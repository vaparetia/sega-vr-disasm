; ============================================================================
; Code Section ($000200-$0021FF)
; Generated from ROM bytes - guaranteed accurate
; ============================================================================

        org     $000200

        dc.w    $4EF9        ; $000200
        dc.w    $0088        ; $000202
        dc.w    $0838        ; $000204
        dc.w    $4EF9        ; $000206
        dc.w    $0088        ; $000208
        dc.w    $0832        ; $00020A
        dc.w    $4EF9        ; $00020C
        dc.w    $0088        ; $00020E
        dc.w    $0832        ; $000210
        dc.w    $4EF9        ; $000212
        dc.w    $0088        ; $000214
        dc.w    $0832        ; $000216
        dc.w    $4EF9        ; $000218
        dc.w    $0088        ; $00021A
        dc.w    $0832        ; $00021C
        dc.w    $4EF9        ; $00021E
        dc.w    $0088        ; $000220
        dc.w    $0832        ; $000222
        dc.w    $4EF9        ; $000224
        dc.w    $0088        ; $000226
        dc.w    $0832        ; $000228
        dc.w    $4EF9        ; $00022A
        dc.w    $0088        ; $00022C
        dc.w    $0832        ; $00022E
        dc.w    $4EF9        ; $000230
        dc.w    $0088        ; $000232
        dc.w    $0832        ; $000234
        dc.w    $4EF9        ; $000236
        dc.w    $0088        ; $000238
        dc.w    $0832        ; $00023A
        dc.w    $4EF9        ; $00023C
        dc.w    $0088        ; $00023E
        dc.w    $0832        ; $000240
        dc.w    $4EF9        ; $000242
        dc.w    $0088        ; $000244
        dc.w    $0832        ; $000246
        dc.w    $4EF9        ; $000248
        dc.w    $0088        ; $00024A
        dc.w    $0832        ; $00024C
        dc.w    $4EF9        ; $00024E
        dc.w    $0088        ; $000250
        dc.w    $0832        ; $000252
        dc.w    $4EF9        ; $000254
        dc.w    $0088        ; $000256
        dc.w    $0832        ; $000258
        dc.w    $4EF9        ; $00025A
        dc.w    $0088        ; $00025C
        dc.w    $0832        ; $00025E
        dc.w    $4EF9        ; $000260
        dc.w    $0088        ; $000262
        dc.w    $0832        ; $000264
        dc.w    $4EF9        ; $000266
        dc.w    $0088        ; $000268
        dc.w    $0832        ; $00026A
        dc.w    $4EF9        ; $00026C
        dc.w    $0088        ; $00026E
        dc.w    $0832        ; $000270
        dc.w    $4EF9        ; $000272
        dc.w    $0088        ; $000274
        dc.w    $0832        ; $000276
        dc.w    $4EF9        ; $000278
        dc.w    $0088        ; $00027A
        dc.w    $0832        ; $00027C
        dc.w    $4EF9        ; $00027E
        dc.w    $0088        ; $000280
        dc.w    $0832        ; $000282
        dc.w    $4EF9        ; $000284
        dc.w    $0088        ; $000286
        dc.w    $0832        ; $000288
        dc.w    $4EF9        ; $00028A
        dc.w    $0088        ; $00028C
        dc.w    $0832        ; $00028E
        dc.w    $4EF9        ; $000290
        dc.w    $0088        ; $000292
        dc.w    $0832        ; $000294
        dc.w    $4EF9        ; $000296
        dc.w    $0088        ; $000298
        dc.w    $0832        ; $00029A
        dc.w    $4EF9        ; $00029C
        dc.w    $0088        ; $00029E
        dc.w    $0832        ; $0002A0
        dc.w    $4EF9        ; $0002A2
        dc.w    $0088        ; $0002A4
        dc.w    $170A        ; $0002A6
        dc.w    $4EF9        ; $0002A8
        dc.w    $0088        ; $0002AA
        dc.w    $0832        ; $0002AC
        dc.w    $4EF9        ; $0002AE
        dc.w    $0088        ; $0002B0
        dc.w    $1684        ; $0002B2
        dc.w    $4EF9        ; $0002B4
        dc.w    $0088        ; $0002B6
        dc.w    $0832        ; $0002B8
        dc.w    $4EF9        ; $0002BA
        dc.w    $0088        ; $0002BC
        dc.w    $0832        ; $0002BE
        dc.w    $4EF9        ; $0002C0
        dc.w    $0088        ; $0002C2
        dc.w    $0832        ; $0002C4
        dc.w    $4EF9        ; $0002C6
        dc.w    $0088        ; $0002C8
        dc.w    $0832        ; $0002CA
        dc.w    $4EF9        ; $0002CC
        dc.w    $0088        ; $0002CE
        dc.w    $0832        ; $0002D0
        dc.w    $4EF9        ; $0002D2
        dc.w    $0088        ; $0002D4
        dc.w    $0832        ; $0002D6
        dc.w    $4EF9        ; $0002D8
        dc.w    $0088        ; $0002DA
        dc.w    $0832        ; $0002DC
        dc.w    $4EF9        ; $0002DE
        dc.w    $0088        ; $0002E0
        dc.w    $0832        ; $0002E2
        dc.w    $4EF9        ; $0002E4
        dc.w    $0088        ; $0002E6
        dc.w    $0832        ; $0002E8
        dc.w    $4EF9        ; $0002EA
        dc.w    $0088        ; $0002EC
        dc.w    $0832        ; $0002EE
        dc.w    $4EF9        ; $0002F0
        dc.w    $0088        ; $0002F2
        dc.w    $0832        ; $0002F4
        dc.w    $4EF9        ; $0002F6
        dc.w    $0088        ; $0002F8
        dc.w    $0832        ; $0002FA
        dc.w    $4EF9        ; $0002FC
        dc.w    $0088        ; $0002FE
        dc.w    $0832        ; $000300
        dc.w    $4EF9        ; $000302
        dc.w    $0088        ; $000304
        dc.w    $0832        ; $000306
        dc.w    $4EF9        ; $000308
        dc.w    $0088        ; $00030A
        dc.w    $0832        ; $00030C
        dc.w    $4EF9        ; $00030E
        dc.w    $0088        ; $000310
        dc.w    $0832        ; $000312
        dc.w    $4EF9        ; $000314
        dc.w    $0088        ; $000316
        dc.w    $0832        ; $000318
        dc.w    $4EF9        ; $00031A
        dc.w    $0088        ; $00031C
        dc.w    $0832        ; $00031E
        dc.w    $4EF9        ; $000320
        dc.w    $0088        ; $000322
        dc.w    $0832        ; $000324
        dc.w    $4EF9        ; $000326
        dc.w    $0088        ; $000328
        dc.w    $0832        ; $00032A
        dc.w    $4EF9        ; $00032C
        dc.w    $0088        ; $00032E
        dc.w    $0832        ; $000330
        dc.w    $4EF9        ; $000332
        dc.w    $0088        ; $000334
        dc.w    $0832        ; $000336
        dc.w    $4EF9        ; $000338
        dc.w    $0088        ; $00033A
        dc.w    $0832        ; $00033C
        dc.w    $4EF9        ; $00033E
        dc.w    $0088        ; $000340
        dc.w    $0832        ; $000342
        dc.w    $4EF9        ; $000344
        dc.w    $0088        ; $000346
        dc.w    $0832        ; $000348
        dc.w    $4EF9        ; $00034A
        dc.w    $0088        ; $00034C
        dc.w    $0832        ; $00034E
        dc.w    $4EF9        ; $000350
        dc.w    $0088        ; $000352
        dc.w    $0832        ; $000354
        dc.w    $4EF9        ; $000356
        dc.w    $0088        ; $000358
        dc.w    $0832        ; $00035A
        dc.w    $4EF9        ; $00035C
        dc.w    $0088        ; $00035E
        dc.w    $0832        ; $000360
        dc.w    $4EF9        ; $000362
        dc.w    $0088        ; $000364
        dc.w    $0832        ; $000366
        dc.w    $4EF9        ; $000368
        dc.w    $0088        ; $00036A
        dc.w    $0832        ; $00036C
        dc.w    $4EF9        ; $00036E
        dc.w    $0088        ; $000370
        dc.w    $0832        ; $000372
        dc.w    $4EF9        ; $000374
        dc.w    $0088        ; $000376
        dc.w    $0832        ; $000378
        dc.w    $4E71        ; $00037A - NOP (original)
        dc.w    $4E71        ; $00037C - NOP
        dc.w    $4E71        ; $00037E - NOP
        dc.w    $4E71        ; $000380 - NOP
        dc.w    $4E71        ; $000382
        dc.w    $4E71        ; $000384
        dc.w    $4E71        ; $000386
        dc.w    $4E71        ; $000388
        dc.w    $4E71        ; $00038A
        dc.w    $4E71        ; $00038C
        dc.w    $4E71        ; $00038E
        dc.w    $4E71        ; $000390
        dc.w    $4E71        ; $000392
        dc.w    $4E71        ; $000394
        dc.w    $4E71        ; $000396
        dc.w    $4E71        ; $000398
        dc.w    $4E71        ; $00039A
        dc.w    $4E71        ; $00039C
        dc.w    $4E71        ; $00039E
        dc.w    $4E71        ; $0003A0
        dc.w    $4E71        ; $0003A2
        dc.w    $4E71        ; $0003A4
        dc.w    $4E71        ; $0003A6
        dc.w    $4E71        ; $0003A8
        dc.w    $4E71        ; $0003AA
        dc.w    $4E71        ; $0003AC
        dc.w    $4E71        ; $0003AE
        dc.w    $4E71        ; $0003B0
        dc.w    $4E71        ; $0003B2
        dc.w    $4E71        ; $0003B4
        dc.w    $4E71        ; $0003B6
        dc.w    $4E71        ; $0003B8
        dc.w    $4E71        ; $0003BA
        dc.w    $4E71        ; $0003BC
        dc.w    $4E71        ; $0003BE
        dc.w    $4D41        ; $0003C0
        dc.w    $5253        ; $0003C2
        dc.w    $2043        ; $0003C4
        dc.w    $4845        ; $0003C6
        dc.w    $434B        ; $0003C8
        dc.w    $204D        ; $0003CA
        dc.w    $4F44        ; $0003CC
        dc.w    $4520        ; $0003CE
        dc.w    $0000        ; $0003D0
        dc.w    $0000        ; $0003D2
        dc.w    $0002        ; $0003D4
        dc.w    $0000        ; $0003D6
        dc.w    $0000        ; $0003D8
        dc.w    $0000        ; $0003DA
        dc.w    $0000        ; $0003DC
        dc.w    $C000        ; $0003DE
        dc.w    $0600        ; $0003E0
        dc.w    $0280        ; $0003E2
        dc.w    $0600        ; $0003E4  Slave PC high (SDRAM)
        dc.w    $0288        ; $0003E6  Slave PC low = 0x06000288 (original SDRAM code)
        dc.w    $0600        ; $0003E8
        dc.w    $0000        ; $0003EA
        dc.w    $0600        ; $0003EC
        dc.w    $0140        ; $0003EE
        dc.w    $287C        ; $0003F0
        dc.w    $FFFF        ; $0003F2
        dc.w    $FFC0        ; $0003F4
        dc.w    $23FC        ; $0003F6
        dc.w    $0000        ; $0003F8
        dc.w    $0000        ; $0003FA
        dc.w    $00A1        ; $0003FC
        dc.w    $5128        ; $0003FE
        dc.w    $46FC        ; $000400
        dc.w    $2700        ; $000402
        dc.w    $4BF9        ; $000404
        dc.w    $00A1        ; $000406
        dc.w    $0000        ; $000408
        dc.w    $7001        ; $00040A
        dc.w    $0CAD        ; $00040C
        dc.w    $4D41        ; $00040E
        dc.w    $5253        ; $000410
        dc.w    $30EC        ; $000412
        dc.w    $6600        ; $000414
        dc.w    $03E6        ; $000416
        dc.w    $082D        ; $000418
        dc.w    $0007        ; $00041A
        dc.w    $5101        ; $00041C
        dc.w    $67F8        ; $00041E
        dc.w    $4AAD        ; $000420
        dc.w    $0008        ; $000422
        dc.w    $6710        ; $000424
        dc.w    $4A6D        ; $000426
        dc.w    $000C        ; $000428
        dc.w    $670A        ; $00042A
        dc.w    $082D        ; $00042C
        dc.w    $0000        ; $00042E
        dc.w    $5101        ; $000430
        dc.w    $6600        ; $000432
        dc.w    $03B8        ; $000434
        dc.w    $102D        ; $000436
        dc.w    $0001        ; $000438
        dc.w    $0200        ; $00043A
        dc.w    $000F        ; $00043C
        dc.w    $6706        ; $00043E
        dc.w    $2B78        ; $000440
        dc.w    $055A        ; $000442
        dc.w    $4000        ; $000444
        dc.w    $7200        ; $000446
        dc.w    $2C41        ; $000448
        dc.w    $4E66        ; $00044A
        dc.w    $41F9        ; $00044C
        dc.w    $0000        ; $00044E
        dc.w    $04D4        ; $000450
        dc.w    $6100        ; $000452
        dc.w    $0152        ; $000454
        dc.w    $6100        ; $000456
        dc.w    $0176        ; $000458
        dc.w    $47F9        ; $00045A
        dc.w    $0000        ; $00045C
        dc.w    $04E8        ; $00045E
        dc.w    $43F9        ; $000460
        dc.w    $00A0        ; $000462
        dc.w    $0000        ; $000464
        dc.w    $45F9        ; $000466
        dc.w    $00C0        ; $000468
        dc.w    $0011        ; $00046A
        dc.w    $3E3C        ; $00046C
        dc.w    $0100        ; $00046E
        dc.w    $7000        ; $000470
        dc.w    $3B47        ; $000472
        dc.w    $1100        ; $000474
        dc.w    $3B47        ; $000476
        dc.w    $1200        ; $000478
        dc.w    $012D        ; $00047A
        dc.w    $1100        ; $00047C
        dc.w    $66FA        ; $00047E
        dc.w    $7425        ; $000480
        dc.w    $12DB        ; $000482
        dc.w    $51CA        ; $000484
        dc.w    $FFFC        ; $000486
        dc.w    $3B40        ; $000488
        dc.w    $1200        ; $00048A
        dc.w    $3B40        ; $00048C
        dc.w    $1100        ; $00048E
        dc.w    $3B47        ; $000490
        dc.w    $1200        ; $000492
        dc.w    $149B        ; $000494
        dc.w    $149B        ; $000496
        dc.w    $149B        ; $000498
        dc.w    $149B        ; $00049A
        dc.w    $41F9        ; $00049C
        dc.w    $0000        ; $00049E
        dc.w    $04C0        ; $0004A0
        dc.w    $43F9        ; $0004A2
        dc.w    $00FF        ; $0004A4
        dc.w    $0000        ; $0004A6
        dc.w    $22D8        ; $0004A8
        dc.w    $22D8        ; $0004AA
        dc.w    $22D8        ; $0004AC
        dc.w    $22D8        ; $0004AE
        dc.w    $22D8        ; $0004B0
        dc.w    $22D8        ; $0004B2
        dc.w    $22D8        ; $0004B4
        dc.w    $22D8        ; $0004B6
        dc.w    $41F9        ; $0004B8
        dc.w    $00FF        ; $0004BA
        dc.w    $0000        ; $0004BC
        dc.w    $4ED0        ; $0004BE
        dc.w    $1B7C        ; $0004C0
        dc.w    $0001        ; $0004C2
        dc.w    $5101        ; $0004C4
        dc.w    $41F9        ; $0004C6
        dc.w    $0000        ; $0004C8
        dc.w    $06BC        ; $0004CA
        dc.w    $D1FC        ; $0004CC
        dc.w    $0088        ; $0004CE
        dc.w    $0000        ; $0004D0
        dc.w    $4ED0        ; $0004D2
        dc.w    $0404        ; $0004D4
        dc.w    $303C        ; $0004D6
        dc.w    $076C        ; $0004D8
        dc.w    $0000        ; $0004DA
        dc.w    $0000        ; $0004DC
        dc.w    $FF00        ; $0004DE
        dc.w    $8137        ; $0004E0
        dc.w    $0002        ; $0004E2
        dc.w    $0100        ; $0004E4
        dc.w    $0000        ; $0004E6
        dc.w    $AF01        ; $0004E8
        dc.w    $D91F        ; $0004EA
        dc.w    $1127        ; $0004EC
        dc.w    $0021        ; $0004EE
        dc.w    $2600        ; $0004F0
        dc.w    $F977        ; $0004F2
        dc.w    $EDB0        ; $0004F4
        dc.w    $DDE1        ; $0004F6
        dc.w    $FDE1        ; $0004F8
        dc.w    $ED47        ; $0004FA
        dc.w    $ED4F        ; $0004FC
        dc.w    $D1E1        ; $0004FE
        dc.w    $F108        ; $000500
        dc.w    $D9C1        ; $000502
        dc.w    $D1E1        ; $000504
        dc.w    $F1F9        ; $000506
        dc.w    $F3ED        ; $000508
        dc.w    $5636        ; $00050A
        dc.w    $E9E9        ; $00050C
        dc.w    $9FBF        ; $00050E
        dc.w    $DFFF        ; $000510
; === Original copyright/security text (DO NOT MODIFY - game checks this!) ===
        include "modules/68k/game/fn_200_001.asm"
        include "modules/68k/game/fn_200_002.asm"
        include "modules/68k/game/fn_200_003.asm"
        include "modules/68k/game/fn_200_004.asm"
        include "modules/68k/game/fn_200_005.asm"
        include "modules/68k/game/fn_200_006.asm"
        include "modules/68k/game/fn_200_007.asm"
        include "modules/68k/game/fn_200_008.asm"
        include "modules/68k/game/fn_200_009.asm"
        include "modules/68k/game/fn_200_010.asm"
        include "modules/68k/game/fn_200_011.asm"
        include "modules/68k/game/fn_200_012.asm"
        include "modules/68k/vdp/vdp_data_fill.asm"
        include "modules/68k/vdp/vdp_data_fill_constant.asm"
        include "modules/68k/game/fn_200_013.asm"
        include "modules/68k/game/fn_200_014.asm"
        include "modules/68k/game/fn_200_015.asm"
        include "modules/68k/game/fn_200_016.asm"
        include "modules/68k/game/fn_200_017.asm"
        include "modules/68k/game/fn_200_018.asm"
        include "modules/68k/game/fn_200_019.asm"
        include "modules/68k/game/fn_200_020.asm"
        include "modules/68k/game/fn_200_021.asm"
        include "modules/68k/util/lzss_decompress.asm"
        include "modules/68k/vdp/vdp_reg_write_multi.asm"
        include "modules/68k/vdp/vdp_reg_write_simple.asm"
        include "modules/68k/vdp/vdp_reg_write_read.asm"
        include "modules/68k/game/fn_200_022.asm"
        include "modules/68k/game/fn_200_023.asm"
        include "modules/68k/game/fn_200_024.asm"
        include "modules/68k/game/fn_200_025.asm"
        include "modules/68k/game/fn_200_026.asm"
        dc.w    $00FF        ; $00166C
        dc.w    $1000        ; $00166E
        dc.w    $659C        ; $001670
        dc.w    $0002        ; $001672
        dc.w    $000D        ; $001674
        dc.w    $0003        ; $001676
        dc.w    $00FF        ; $001678
        dc.w    $1000        ; $00167A
        dc.w    $6000        ; $00167C
        dc.w    $0002        ; $00167E
        dc.w    $0027        ; $001680
        dc.w    $001B        ; $001682
; ============================================================================
; V-INT Handler ($001684) - Assembly mnemonics
; Per VINT_HANDLER_ARCHITECTURE.md - 16-state dispatch system
; Note: .w suffix forces absolute short addressing (4 bytes vs 6 for long)
; ============================================================================
vint_handler:                           ; $001684
        tst.w   $FFFFC87A.w             ; Check pending V-INT state
        beq.s   .no_work                ; If zero, nothing to do

        move.w  #$2700,sr               ; Disable all interrupts
        movem.l d0-d7/a0-a6,-(sp)       ; Save 14 registers
        move.w  $FFFFC87A.w,d0          ; Load state index
        move.w  #0,$FFFFC87A.w          ; Clear - MUST be 6 bytes (not CLR.W=4 bytes)!
        dc.w    $227B,$0014             ; MOVEA.L (PC,$14),A1 - vasm can't mnemonic this!
        jsr     (a1)                    ; Dispatch to state handler
        addq.l  #1,$FFFFC964.w          ; Increment frame counter (Work RAM)
        ; ASYNC: Disabled entirely (no space for init code in 68K section)
        movem.l (sp)+,d0-d7/a0-a6       ; Restore 14 registers
        jmp     vint_epilogue+$880000   ; Continue in optimization area (SR restore + queue drain + FPS render + RTE)

.no_work:
        rte                             ; $16B0 - Early exit (state was 0)
vint_jump_table:                        ; $0016B2
        include "modules/68k/game/fn_200_027.asm"
        include "modules/68k/game/fn_200_028.asm"
        include "modules/68k/game/fn_200_029.asm"
        include "modules/68k/input/joypad_process.asm"
        include "modules/68k/input/joypad_read_hw.asm"
        include "modules/68k/input/joypad_read_3btn.asm"
        include "modules/68k/game/fn_200_030.asm"
        include "modules/68k/input/joypad_read_port.asm"
        include "modules/68k/game/fn_200_031.asm"
        include "modules/68k/game/fn_200_032.asm"
        include "modules/68k/game/fn_200_033.asm"
        include "modules/68k/game/fn_200_034.asm"
        include "modules/68k/game/fn_200_035.asm"
        include "modules/68k/game/fn_200_036.asm"
        include "modules/68k/game/fn_200_037.asm"
        include "modules/68k/game/fn_200_038.asm"
        include "modules/68k/game/fn_200_039.asm"
        include "modules/68k/game/fn_200_040.asm"
        include "modules/68k/game/fn_200_041.asm"
        include "modules/68k/game/fn_200_042.asm"
        include "modules/68k/game/fn_200_043.asm"
        include "modules/68k/game/fn_200_044.asm"
        include "modules/68k/game/fn_200_045.asm"
        include "modules/68k/game/fn_200_046.asm"
        dc.w    $4E75        ; $00207E
        include "modules/68k/game/fn_200_047.asm"
        include "modules/68k/game/fn_200_048.asm"
        dc.w    $11FC        ; $0021EE
        dc.w    $000A        ; $0021F0
        dc.w    $C827        ; $0021F2
        dc.w    $11FC        ; $0021F4
        dc.w    $000F        ; $0021F6
        dc.w    $C828        ; $0021F8
        dc.w    $4A78        ; $0021FA - TST.W $C8C8
        dc.w    $C8C8        ; $0021FC
        dc.w    $6704        ; $0021FE - BEQ.S $002206
